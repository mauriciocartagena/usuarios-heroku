{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/usuarios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Table,Button,Modal,Form}from\"react-bootstrap\";import useInitialState from\"../utils/hooks/useInitalState\";import userDelete from\"../utils/hooks/delete\";import userUpdate from\"../utils/hooks/update\";import userInsert from\"../utils/hooks/Insert\";var API=\"http://localhost:3004/\";function TableApi(){var initialState=useInitialState(API);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),stado=_useState2[0],setStado=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),idUser=_useState4[0],setIdUser=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),nombre=_useState6[0],setNombre=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),apePaterno=_useState8[0],setApePaterno=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),apeMaterno=_useState10[0],setApeMaterno=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),ci=_useState12[0],setCi=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),genero=_useState14[0],setGenero=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),direccion=_useState16[0],setDireccion=_useState16[1];var eliminar=function eliminar(id){return userDelete(id);};var activo=function activo(_ref){var valor=_ref.valor;setStado(valor);};var insert=function insert(name,lastName,secondName,ci,gender,city,_ref2){var valor=_ref2.valor;return userInsert(name,lastName,secondName,ci,gender,city);};function actualizar(id_user,name,lastName,secondName,ci,gender,city,_ref3){var valor=_ref3.valor;actualizarUsers(id_user,name,lastName,secondName,ci,gender,city);setStado(valor);setIdUser(null);setNombre(null);setApePaterno(null);setApeMaterno(null);setCi(null);setGenero(null);setDireccion(null);}var close=function close(id_user,name,lastName,secondName,ci,gender,city,_ref4){var valor=_ref4.valor;setIdUser(null);setNombre(null);setApePaterno(null);setApeMaterno(null);setCi(null);setGenero(null);setDireccion(null);setStado(valor);};var actualizarUsers=function actualizarUsers(id_user,name,lastName,secondName,ci,gender,city){userUpdate(id_user,name,lastName,secondName,ci,gender,city);};function modificar(id,_ref5,nombre,ape_p,ape_m,ci,genero,direccion){var valor=_ref5.valor;setStado(valor);setIdUser(id);setNombre(nombre);setApePaterno(ape_p);setApeMaterno(ape_m);setCi(ci);setGenero(genero);setDireccion(direccion);}return initialState===0?/*#__PURE__*/React.createElement(\"h1\",null,\"Loading....\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return activo({valor:true});}},\"Agregar\"),/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true,variant:\"dark\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Nombre\"),/*#__PURE__*/React.createElement(\"th\",null,\"Apellido Paterno\"),/*#__PURE__*/React.createElement(\"th\",null,\"Apellido Materno\"),/*#__PURE__*/React.createElement(\"th\",null,\"C.I\"),/*#__PURE__*/React.createElement(\"th\",null,\"Genero\"),/*#__PURE__*/React.createElement(\"th\",null,\"Direccion\"),/*#__PURE__*/React.createElement(\"th\",null,\"Modificar\"),/*#__PURE__*/React.createElement(\"th\",null,\"Eliminar\"))),/*#__PURE__*/React.createElement(\"tbody\",null,initialState.usuarios.length>0&&initialState.usuarios.map(function(usuario,id){return/*#__PURE__*/React.createElement(React.Fragment,{key:id},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,usuario.id_usuario),/*#__PURE__*/React.createElement(\"th\",null,usuario.nombre),/*#__PURE__*/React.createElement(\"th\",null,usuario.apellido_paterno),/*#__PURE__*/React.createElement(\"th\",null,usuario.apellido_materno),/*#__PURE__*/React.createElement(\"th\",null,usuario.ci),/*#__PURE__*/React.createElement(\"th\",null,usuario.genero),/*#__PURE__*/React.createElement(\"th\",null,usuario.direccion),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(Button,{variant:\"success\",onClick:function onClick(){return modificar(usuario.id_usuario,{valor:true},usuario.nombre,usuario.apellido_paterno,usuario.apellido_materno,usuario.ci,usuario.genero,usuario.direccion);}},\"Modificar\")),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:function onClick(){return eliminar(usuario.id_usuario);}},\"Eliminar\"))));})),stado===true?/*#__PURE__*/React.createElement(Modal,{show:true},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true,onClick:function onClick(){return setStado(false);}},/*#__PURE__*/React.createElement(Modal.Title,null,\"Modal heading\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Nombre\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:nombre,placeholder:\"Nombre\",onInput:function onInput(e){return setNombre(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Apellido Paterno\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Apellido Paterno\",value:apePaterno,onInput:function onInput(e){return setApePaterno(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Apellido Materno\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Apellido Paterno\",value:apeMaterno,onInput:function onInput(e){return setApeMaterno(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"C.I\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"num\",placeholder:\"C.I\",value:ci,onInput:function onInput(e){return setCi(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"exampleForm.ControlSelect2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Genero\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",value:genero,onInput:function onInput(e){return setGenero(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null,\"Femenino\"),/*#__PURE__*/React.createElement(\"option\",null,\"Masculino\"))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Direccion\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Direaccion\",value:direccion,onInput:function onInput(e){return setDireccion(e.target.value);}})),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(){close(idUser,nombre,apePaterno,apeMaterno,ci,genero,direccion,{valor:false});}},\"Close\"),idUser===null?/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return insert(nombre,apePaterno,apeMaterno,ci,genero,direccion,{valor:false});}},idUser===null?\"Agregar\":\"Modificar\"):/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return actualizar(idUser,nombre,apePaterno,apeMaterno,ci,genero,direccion,{valor:false});}},idUser===null?\"Agregar\":\"Modificar\"))))):function(){return console.log(\"cerrado\");}));}export default TableApi;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/usuarios/src/components/TableApi.jsx"],"names":["React","useState","Table","Button","Modal","Form","useInitialState","userDelete","userUpdate","userInsert","API","TableApi","initialState","stado","setStado","idUser","setIdUser","nombre","setNombre","apePaterno","setApePaterno","apeMaterno","setApeMaterno","ci","setCi","genero","setGenero","direccion","setDireccion","eliminar","id","activo","valor","insert","name","lastName","secondName","gender","city","actualizar","id_user","actualizarUsers","close","modificar","ape_p","ape_m","usuarios","length","map","usuario","id_usuario","apellido_paterno","apellido_materno","e","target","value","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Table, Button, Modal, Form } from \"react-bootstrap\";\nimport useInitialState from \"../utils/hooks/useInitalState\";\nimport userDelete from \"../utils/hooks/delete\";\nimport userUpdate from \"../utils/hooks/update\";\nimport userInsert from \"../utils/hooks/Insert\";\nconst API = \"http://localhost:3004/\";\n\nfunction TableApi() {\n  const initialState = useInitialState(API);\n  const [stado, setStado] = useState(false);\n  const [idUser, setIdUser] = useState(null);\n  const [nombre, setNombre] = useState(null);\n  const [apePaterno, setApePaterno] = useState(null);\n  const [apeMaterno, setApeMaterno] = useState(null);\n  const [ci, setCi] = useState(null);\n  const [genero, setGenero] = useState(null);\n  const [direccion, setDireccion] = useState(null);\n\n  const eliminar = (id) => userDelete(id);\n  const activo = ({ valor }) => {\n    setStado(valor);\n  };\n  const insert = (name, lastName, secondName, ci, gender, city, { valor }) =>\n    userInsert(name, lastName, secondName, ci, gender, city);\n  function actualizar(\n    id_user,\n    name,\n    lastName,\n    secondName,\n    ci,\n    gender,\n    city,\n    { valor }\n  ) {\n    actualizarUsers(id_user, name, lastName, secondName, ci, gender, city);\n    setStado(valor);\n    setIdUser(null);\n    setNombre(null);\n    setApePaterno(null);\n    setApeMaterno(null);\n    setCi(null);\n    setGenero(null);\n    setDireccion(null);\n  }\n\n  const close = (\n    id_user,\n    name,\n    lastName,\n    secondName,\n    ci,\n    gender,\n    city,\n    { valor }\n  ) => {\n    setIdUser(null);\n    setNombre(null);\n    setApePaterno(null);\n    setApeMaterno(null);\n    setCi(null);\n    setGenero(null);\n    setDireccion(null);\n    setStado(valor);\n  };\n  const actualizarUsers = (\n    id_user,\n    name,\n    lastName,\n    secondName,\n    ci,\n    gender,\n    city\n  ) => {\n    userUpdate(id_user, name, lastName, secondName, ci, gender, city);\n  };\n\n  function modificar(\n    id,\n    { valor },\n    nombre,\n    ape_p,\n    ape_m,\n    ci,\n    genero,\n    direccion\n  ) {\n    setStado(valor);\n    setIdUser(id);\n    setNombre(nombre);\n    setApePaterno(ape_p);\n    setApeMaterno(ape_m);\n    setCi(ci);\n    setGenero(genero);\n    setDireccion(direccion);\n  }\n\n  return initialState === 0 ? (\n    <h1>Loading....</h1>\n  ) : (\n    <>\n      <Button variant=\"primary\" onClick={() => activo({ valor: true })}>\n        Agregar\n      </Button>\n      <Table striped bordered hover variant=\"dark\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Nombre</th>\n            <th>Apellido Paterno</th>\n            <th>Apellido Materno</th>\n            <th>C.I</th>\n            <th>Genero</th>\n            <th>Direccion</th>\n            <th>Modificar</th>\n            <th>Eliminar</th>\n          </tr>\n        </thead>\n        <tbody>\n          {initialState.usuarios.length > 0 &&\n            initialState.usuarios.map((usuario, id) => (\n              <React.Fragment key={id}>\n                <tr>\n                  <th>{usuario.id_usuario}</th>\n                  <th>{usuario.nombre}</th>\n                  <th>{usuario.apellido_paterno}</th>\n                  <th>{usuario.apellido_materno}</th>\n                  <th>{usuario.ci}</th>\n                  <th>{usuario.genero}</th>\n                  <th>{usuario.direccion}</th>\n                  <th>\n                    <Button\n                      variant=\"success\"\n                      onClick={() =>\n                        modificar(\n                          usuario.id_usuario,\n                          { valor: true },\n                          usuario.nombre,\n                          usuario.apellido_paterno,\n                          usuario.apellido_materno,\n                          usuario.ci,\n                          usuario.genero,\n                          usuario.direccion\n                        )\n                      }\n                    >\n                      Modificar\n                    </Button>\n                  </th>\n                  <th>\n                    <Button\n                      variant=\"danger\"\n                      onClick={() => eliminar(usuario.id_usuario)}\n                    >\n                      Eliminar\n                    </Button>\n                  </th>\n                </tr>\n              </React.Fragment>\n            ))}\n        </tbody>\n        {stado === true ? (\n          <Modal show={true}>\n            <Modal.Header closeButton onClick={() => setStado(false)}>\n              <Modal.Title>Modal heading</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form>\n                <Form.Group controlId=\"formGroupEmail\">\n                  <Form.Label>Nombre</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={nombre}\n                    placeholder=\"Nombre\"\n                    onInput={(e) => setNombre(e.target.value)}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"formGroupPassword\">\n                  <Form.Label>Apellido Paterno</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Apellido Paterno\"\n                    value={apePaterno}\n                    onInput={(e) => setApePaterno(e.target.value)}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"formGroupPassword\">\n                  <Form.Label>Apellido Materno</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Apellido Paterno\"\n                    value={apeMaterno}\n                    onInput={(e) => setApeMaterno(e.target.value)}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"formGroupPassword\">\n                  <Form.Label>C.I</Form.Label>\n                  <Form.Control\n                    type=\"num\"\n                    placeholder=\"C.I\"\n                    value={ci}\n                    onInput={(e) => setCi(e.target.value)}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlSelect2\">\n                  <Form.Label>Genero</Form.Label>\n                  <Form.Control\n                    as=\"select\"\n                    value={genero}\n                    onInput={(e) => setGenero(e.target.value)}\n                  >\n                    <option>Femenino</option>\n                    <option>Masculino</option>\n                  </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"formGroupPassword\">\n                  <Form.Label>Direccion</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Direaccion\"\n                    value={direccion}\n                    onInput={(e) => setDireccion(e.target.value)}\n                  />\n                </Form.Group>\n                <Modal.Footer>\n                  <Button\n                    variant=\"secondary\"\n                    onClick={() => {\n                      close(\n                        idUser,\n                        nombre,\n                        apePaterno,\n                        apeMaterno,\n                        ci,\n                        genero,\n                        direccion,\n                        { valor: false }\n                      );\n                    }}\n                  >\n                    Close\n                  </Button>\n                  {idUser === null ? (\n                    <Button\n                      variant=\"primary\"\n                      onClick={() =>\n                        insert(\n                          nombre,\n                          apePaterno,\n                          apeMaterno,\n                          ci,\n                          genero,\n                          direccion,\n                          { valor: false }\n                        )\n                      }\n                    >\n                      {idUser === null ? \"Agregar\" : \"Modificar\"}\n                    </Button>\n                  ) : (\n                    <Button\n                      variant=\"primary\"\n                      onClick={() =>\n                        actualizar(\n                          idUser,\n                          nombre,\n                          apePaterno,\n                          apeMaterno,\n                          ci,\n                          genero,\n                          direccion,\n                          { valor: false }\n                        )\n                      }\n                    >\n                      {idUser === null ? \"Agregar\" : \"Modificar\"}\n                    </Button>\n                  )}\n                </Modal.Footer>\n              </Form>\n            </Modal.Body>\n          </Modal>\n        ) : (\n          () => console.log(\"cerrado\")\n        )}\n      </Table>\n    </>\n  );\n}\n\nexport default TableApi;\n"]},"metadata":{},"sourceType":"module"}